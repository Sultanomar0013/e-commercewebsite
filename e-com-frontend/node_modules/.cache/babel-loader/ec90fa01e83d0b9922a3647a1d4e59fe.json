{"ast":null,"code":"import jwt_decode from 'jwt-decode';\nexport const authenticate = (token, cb) => {\n  if (typeof window !== 'undefined') {\n    localStorage.setItem('jwt', JSON.stringify(token));\n    cb();\n  }\n};\nexport const isAuthenticated = () => {\n  if (typeof window === 'undefined') return false;\n\n  if (localStorage.getItem('jwt')) {\n    const {\n      exp\n    } = jwt_decode(JSON.parse(localStorage.getItem('jwt')));\n\n    if (new Date().getTime() <= exp * 1000) {\n      return true;\n    } else {\n      localStorage.removeItem('jwt');\n      return false;\n    }\n  } else return false;\n};\nexport const userInfo = () => {\n  const jwt = JSON.parse(localStorage.getItem('jwt'));\n  const decoded = jwt_decode(jwt);\n  return { ...decoded,\n    token: jwt\n  };\n};\nexport const singout = cb => {\n  if (typeof window !== 'undefined') {\n    localStorage.removeItem('jwt');\n    cb();\n  }\n};","map":{"version":3,"names":["jwt_decode","authenticate","token","cb","window","localStorage","setItem","JSON","stringify","isAuthenticated","getItem","exp","parse","Date","getTime","removeItem","userInfo","jwt","decoded","singout"],"sources":["D:/e-commerce/e-com-frontend/src/utils/auth.js"],"sourcesContent":["import jwt_decode from 'jwt-decode';\r\n\r\nexport const authenticate = (token, cb) => {\r\n    if (typeof window !== 'undefined') {\r\n        localStorage.setItem('jwt', JSON.stringify(token));\r\n        cb();\r\n    }\r\n}\r\n\r\nexport const isAuthenticated = () => {\r\n    if (typeof window === 'undefined') return false;\r\n    if (localStorage.getItem('jwt')) {\r\n        const { exp } = jwt_decode(JSON.parse(localStorage.getItem('jwt')));\r\n        if ((new Date()).getTime() <= exp * 1000) {\r\n            return true;\r\n        } else {\r\n            localStorage.removeItem('jwt');\r\n            return false;\r\n        }\r\n    } else return false;\r\n}\r\n\r\nexport const userInfo = () => {\r\n    const jwt = JSON.parse(localStorage.getItem('jwt'));\r\n    const decoded = jwt_decode(jwt);\r\n    return { ...decoded, token: jwt }\r\n}\r\n\r\nexport const singout = cb => {\r\n    if (typeof window !== 'undefined') {\r\n        localStorage.removeItem('jwt');\r\n        cb();\r\n    }\r\n}"],"mappings":"AAAA,OAAOA,UAAP,MAAuB,YAAvB;AAEA,OAAO,MAAMC,YAAY,GAAG,CAACC,KAAD,EAAQC,EAAR,KAAe;EACvC,IAAI,OAAOC,MAAP,KAAkB,WAAtB,EAAmC;IAC/BC,YAAY,CAACC,OAAb,CAAqB,KAArB,EAA4BC,IAAI,CAACC,SAAL,CAAeN,KAAf,CAA5B;IACAC,EAAE;EACL;AACJ,CALM;AAOP,OAAO,MAAMM,eAAe,GAAG,MAAM;EACjC,IAAI,OAAOL,MAAP,KAAkB,WAAtB,EAAmC,OAAO,KAAP;;EACnC,IAAIC,YAAY,CAACK,OAAb,CAAqB,KAArB,CAAJ,EAAiC;IAC7B,MAAM;MAAEC;IAAF,IAAUX,UAAU,CAACO,IAAI,CAACK,KAAL,CAAWP,YAAY,CAACK,OAAb,CAAqB,KAArB,CAAX,CAAD,CAA1B;;IACA,IAAK,IAAIG,IAAJ,EAAD,CAAaC,OAAb,MAA0BH,GAAG,GAAG,IAApC,EAA0C;MACtC,OAAO,IAAP;IACH,CAFD,MAEO;MACHN,YAAY,CAACU,UAAb,CAAwB,KAAxB;MACA,OAAO,KAAP;IACH;EACJ,CARD,MAQO,OAAO,KAAP;AACV,CAXM;AAaP,OAAO,MAAMC,QAAQ,GAAG,MAAM;EAC1B,MAAMC,GAAG,GAAGV,IAAI,CAACK,KAAL,CAAWP,YAAY,CAACK,OAAb,CAAqB,KAArB,CAAX,CAAZ;EACA,MAAMQ,OAAO,GAAGlB,UAAU,CAACiB,GAAD,CAA1B;EACA,OAAO,EAAE,GAAGC,OAAL;IAAchB,KAAK,EAAEe;EAArB,CAAP;AACH,CAJM;AAMP,OAAO,MAAME,OAAO,GAAGhB,EAAE,IAAI;EACzB,IAAI,OAAOC,MAAP,KAAkB,WAAtB,EAAmC;IAC/BC,YAAY,CAACU,UAAb,CAAwB,KAAxB;IACAZ,EAAE;EACL;AACJ,CALM"},"metadata":{},"sourceType":"module"}