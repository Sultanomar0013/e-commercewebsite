{"ast":null,"code":"import jwt_decode from 'jwt-decode';\nexport const authenticate = (token, cb) => {\n  if (typeof window !== 'undefined') {\n    localStorage.setItem('jwt', JSON.stringyfy(token));\n    cb();\n  }\n};\nexport const isAuthenticated = () => {\n  if (typeof window === 'undefined') return false;\n\n  if (localStorage.getItem('jwt')) {\n    const {\n      exp\n    } = jwt_decode(JSON.parse(localStorage.getItem('jwt')));\n    return newDate().getTime() < exp * 1000;\n  } else return false;\n};\nexport const userInfo = () => {\n  const jwt = JSON.parse(localStorage.getItem('jwt'));\n  const decoded = jwt_decoded(jwt);\n  return { ...decoded,\n    token: jwt\n  };\n};\nexport const signout = cb => {\n  if (typeof window !== 'undefined') {\n    localStorage.removeItem('jwt');\n    cb();\n  }\n};","map":{"version":3,"names":["jwt_decode","authenticate","token","cb","window","localStorage","setItem","JSON","stringyfy","isAuthenticated","getItem","exp","parse","newDate","getTime","userInfo","jwt","decoded","jwt_decoded","signout","removeItem"],"sources":["D:/e-commerce/e-com-frontend/src/utils/auth.js"],"sourcesContent":["import jwt_decode from 'jwt-decode';\r\n\r\nexport const authenticate = (token, cb) =>{\r\n    if (typeof window !== 'undefined'){\r\n        localStorage.setItem('jwt', JSON.stringyfy(token));\r\n        cb();\r\n    }\r\n}\r\n\r\nexport const isAuthenticated = () => {\r\n    if(typeof window === 'undefined') return false;\r\n    if(localStorage.getItem('jwt')){\r\n        const { exp }=jwt_decode(JSON.parse(localStorage.getItem('jwt')));\r\n        return (newDate()).getTime()< exp * 1000\r\n    } else return false;\r\n}\r\n\r\nexport const userInfo = () => {\r\n    const jwt = JSON.parse(localStorage.getItem('jwt'));\r\n    const decoded = jwt_decoded(jwt);\r\n    return{ ...decoded,  token: jwt}\r\n}\r\n\r\nexport const signout = cb =>{\r\n    if(typeof window !=='undefined'){\r\n        localStorage.removeItem('jwt');\r\n        cb();\r\n    }\r\n}"],"mappings":"AAAA,OAAOA,UAAP,MAAuB,YAAvB;AAEA,OAAO,MAAMC,YAAY,GAAG,CAACC,KAAD,EAAQC,EAAR,KAAc;EACtC,IAAI,OAAOC,MAAP,KAAkB,WAAtB,EAAkC;IAC9BC,YAAY,CAACC,OAAb,CAAqB,KAArB,EAA4BC,IAAI,CAACC,SAAL,CAAeN,KAAf,CAA5B;IACAC,EAAE;EACL;AACJ,CALM;AAOP,OAAO,MAAMM,eAAe,GAAG,MAAM;EACjC,IAAG,OAAOL,MAAP,KAAkB,WAArB,EAAkC,OAAO,KAAP;;EAClC,IAAGC,YAAY,CAACK,OAAb,CAAqB,KAArB,CAAH,EAA+B;IAC3B,MAAM;MAAEC;IAAF,IAAQX,UAAU,CAACO,IAAI,CAACK,KAAL,CAAWP,YAAY,CAACK,OAAb,CAAqB,KAArB,CAAX,CAAD,CAAxB;IACA,OAAQG,OAAO,EAAR,CAAYC,OAAZ,KAAuBH,GAAG,GAAG,IAApC;EACH,CAHD,MAGO,OAAO,KAAP;AACV,CANM;AAQP,OAAO,MAAMI,QAAQ,GAAG,MAAM;EAC1B,MAAMC,GAAG,GAAGT,IAAI,CAACK,KAAL,CAAWP,YAAY,CAACK,OAAb,CAAqB,KAArB,CAAX,CAAZ;EACA,MAAMO,OAAO,GAAGC,WAAW,CAACF,GAAD,CAA3B;EACA,OAAM,EAAE,GAAGC,OAAL;IAAef,KAAK,EAAEc;EAAtB,CAAN;AACH,CAJM;AAMP,OAAO,MAAMG,OAAO,GAAGhB,EAAE,IAAG;EACxB,IAAG,OAAOC,MAAP,KAAiB,WAApB,EAAgC;IAC5BC,YAAY,CAACe,UAAb,CAAwB,KAAxB;IACAjB,EAAE;EACL;AACJ,CALM"},"metadata":{},"sourceType":"module"}